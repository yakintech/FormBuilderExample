
@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="/Content/css/demo.css">
    <link rel="stylesheet" type="text/css" media="screen" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.3.1/jquery.rateyo.min.css">
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <title>ECD Plus Form Builder</title>
    <script src="~/Scripts/jquery-3.2.1.min.js"></script>

</head>
<body>
    <div class="container">
        <div class="content">
            <h1>ECD Plus Form Builder <button class="btn btn-success" style="float:right" onclick="htmlsave()">Sisteme Gönder</button></h1>

            <div id="stage1" class="build-wrap"></div>
            <form class="render-wrap" id="ecdplus-form"></form>

            <button id="edit-form" class="btn btn-success">Edit Form</button>
            <div class="action-buttons">
                @*<h2>Actions</h2>
                <button id="showData" type="button">Show Data</button>
                <button id="clearFields" type="button">Clear All Fields</button>
                <button id="getData" type="button">Get Data</button>
                <button id="getXML" type="button">Get XML Data</button>
                <button id="getJSON" type="button">Get JSON Data</button>
                <button id="getJS" type="button">Get JS Data</button>
                <button id="setData" type="button">Set Data</button>
                <button id="addField" type="button">Add Field</button>
                <button id="removeField" type="button">Remove Field</button>*@
                <button id="testSubmit" type="submit">Test Submit</button>
                @*<button id="resetDemo" type="button">Reset Demo</button>*@
                @*<h2>i18n</h2>
                <select id="setLanguage">
                    <option value="ar-TN" dir="rtl">تونسي</option>
                    <option value="de-DE">Deutsch</option>
                    <option value="en-US">English</option>
                    <option value="es-ES">español</option>
                    <option value="fa-IR" dir="rtl">فارسى</option>
                    <option value="fr-FR">français</option>
                    <option value="nb-NO">norsk</option>
                    <option value="nl-NL">Nederlands</option>
                    <option value="pt-BR">português</option>
                    <option value="ro-RO">român</option>
                    <option value="ru-RU">Русский язык</option>
                    <option value="tr-TR">Türkçe</option>
                    <option value="vi-VN">tiếng việt</option>
                    <option value="zh-TW">台語</option>
                </select>*@
            </div>
        </div>
    </div>
    
    <script src="/Content/js/vendor.js"></script>
    @*<script src="/Content/js/form-builder.min.js"></script>*@
    <script src="~/Content/js/form-builder.js"></script>
    <script src="/Content/js/form-render.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.3.1/jquery.rateyo.min.js"></script>
    <script src="/Content/js/demo.js"></script>
</body>
</html>
<script>
    function htmlsave() {
        if ($("#ecdplus-form").html() != "") {
            var formhtml = new Object();
            formhtml.content = $("#ecdplus-form").html();
            console.log(formhtml)
            $.ajax({
                url: "/Home/HtmlSave/",
                data: formhtml,
                success: function () {
                    alert("işlem başarılı");
                }
            })
        }
        else {
            alert("Lütfen oluşturduğunuz formu kaydediniz");
        }
    }


    $("#testSubmit").click(function () {

        var formData = new FormData(document.forms[0]);

        for (var pair of formData.entries()) {
            console.log(pair[0] + ': ' + pair[1]);
        }
    })
</script>
